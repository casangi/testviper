"Status","Start Time","Stop Time","Duration in ms","Parent Suite","Suite","Sub Suite","Test Class","Test Method","Name","Description"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","16","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_unsupported_construct_compare_raises","
Cover: for non-allowed AST nodes -> ValueError('...unsupported construct: <Node>')
Use '==' (ast.Compare), which is not in _ALLOWED_NODES.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_tuple_len_mismatch_raises",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","12","tests.unit.distributed.image_analysis","test_selection","TestCRTFFile","","","test_plain_string_not_backticked_is_parsed_as_text_via_public_api","
Public API only: a non-backticked string must be treated as CRTF/expr text
(i.e., not a file), and produce a valid mask.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestCRTFFile","","","test_non_string_non_path_select_raises_typeerror_public_api","
Public API only: passing a non-str/non-Path (e.g., bytes) never enters
_maybe_read_crtf_from_path and must raise TypeError from select_mask.
This is the closest public-facing behavior to the helper's final `return None`.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_resolve_dims_raises_for_3d_without_dims",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestAllTrueMaskLike","","","test_none_select_numpy_returns_all_true",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","15","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestResultMetadataShortener","","","test_coords_repr_truncated_when_shape_property_raises",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_clean_box_validation","Test clean_box parameter validation"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","63","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestMaskingPublicAPI","","","test_mask_broadcasts_yx_over_stack_public_api","
(y,x) mask should broadcast across a stacked cube.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","69","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_default_indexer_loops_multiple_dims",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","14","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInitialGuessesPublicAPIWrapping","","","test_single_dict_shorthand_is_wrapped_and_used",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","24","tests.unit.distributed.image_analysis","test_selection","TestCRTFDirectives","","","test_global_directive_lines_are_ignored","
Cover the 'continue' path that skips lines starting with 'global' in CRTF:
    if line.lower().startswith(""global""): continue
Ensure masks are identical with/without a global line.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","2","tests.unit.distributed.model","test_component_models","TestFinalizeOutput","","","test_invalid_output_kind_raises",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","3","tests.unit.distributed.model","test_component_models","TestFinalizeOutputMatchDispatch","","","test_dask_to_numpy_compute_line",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_curve_fit_exception_sets_failure",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestCoerceToXda","","","test_missing_coord_keys",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestCRTFMalformed","","","test_crtf_invalid_line_raises","
Public-API coverage of the ValueError raised by _split_shape_payload when a
CRTF-looking string contains a malformed line that doesn't match
'<shape>[[...]'. The '#CRTF' header routes parsing down the CRTF path.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","49","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAngleEndToEndFitter","","","test_canonicalization_wraps_theta_into_half_pi_interval","
Covers: half-π wrapping branch without swapping widths (σx >= σy).
Choose θ_math just over +π/2 so the wrapped angle lands in (-π/2, π/2].
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","161","tests.unit.distributed.image_analysis","test_selection","TestPolygon","","","test_convex_square_membership_and_invariance",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","11","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestChooseThetaPublicAPI","","","test_choose_theta_prefers_pa_when_available_public","
angle='pa' and only theta_*_pa exists → first candidate is used.
Public API only: plot_components(data, result, angle=...).
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestDataArrayMaskConstructorFallback","","","test_dims_constructor_raises_and_fallback_without_dims_used","
Cover the except-path:
    try:
        m = xr.DataArray(mask, dims=data.dims[: np.ndim(mask)])
    except Exception:
        m = xr.DataArray(mask)
by making the constructor raise only when 'dims' is provided.
Use public API (select_mask) with xarray `data` so alignment proceeds.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","12","tests.unit.distributed.image_analysis","test_selection","TestApplySelect","","","test_full_image_box_selects_all_pixels",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestCoerceToXda","","","test_rejects_non_2d_numpy",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_error_wrong_dimensions","Test maximg error handling for wrong dimensions"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_gain_validation","Test gain parameter validation"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_single_polarization","Test maximg with single polarization"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestToBoolCasting","","","test_numeric_masks_nan_to_false_and_casting","
Cover numpy path in boolean casting (_to_bool on numpy arrays) and avoid
xarray dim cross-products by using ndarray `data`:
    arr_np = np.asarray(arr)
    if np.issubdtype(arr_np.dtype, np.floating):
        arr_np = np.nan_to_num(arr_np, nan=0.0)
    return arr_np.astype(bool)
We supply float arrays with NaNs through the public expression API.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:52 UTC 2025","25220","tests.unit.distributed.imaging","test_feather","FeatherTest","","","test_feather",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","341","tests.unit.distributed.imaging","test_feather","FeatherModelComparison","","","test_center_region_and_width_inference",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationRenameDoubleExcept","","","test_rename_and_constructor_fallback_both_raise_then_pass","
Cover the LAST except-pass block inside combine_with_creation:
    try:    combined = combined.rename({...})
    except: try:
                combined = xr.DataArray(arr, dims=tmpl.dims, coords=tmpl.coords)
            except:
                pass   # this branch
We force both rename and the fallback constructor-with-dims to raise,
then ensure the function still returns a valid mask via later alignment.
Use public API only.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestNearestOutOfRangePolicies","","","test_clip_clamps",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_dataarray_numpy_from_numpy_mask_numpy_data_hits_else_branch","
Cover the 'dataarray-numpy' else branch where `mask` is NOT an xr.DataArray:
  if getattr(mask, ""__module__"", """").startswith(""dask""):  # False here
      ...
  else:
      arr = np.asarray(mask, dtype=bool)
  dims/coords derived from numpy `data` fallback.
"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_mask_dimension_mismatch","Test maximg error handling for mask dimension mismatch"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dataarray_numpy",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","19","tests.unit.distributed.model","test_component_models","TestMakeGauss2D","","","test_output_kinds",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","29","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOTFMaskingPublicAPI","","","test_otf_mask_dataset_wrapper_supported_public_api","
select_mask returns a Dataset containing a 'mask' variable; fitter should use it.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","2","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInputs","","","test_world_coords_skipped_for_bad_axis_coords",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","2","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_initial_guesses_list_of_dicts_wrong_length_raises","List[dict] initial_guesses length != n → ValueError (covers the raise)."
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestMakeDisk","","","test_param_validation",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","293","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAngleEndToEndFitter","","","test_theta_math_pa_relation_pixel_right_and_left_handed",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestCoordsForNdarrayInput","","","test_numpy_input_coords_tuple_happy_path_returns_y1d_x1d","
NumPy input with coords=(x1d, y1d) should be accepted and returned (y1d, x1d).
Covers the success path that converts and validates coords, then returns them.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesEdgeCases","","","test_coord_vals_strictly_monotonic",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","31","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_raises_when_result_missing_required_var",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","3","tests.unit.distributed.image_analysis","test_selection","TestToBoolDataArray","","","test_dataarray_float_nan_fillna_before_bool","
Cover nested-if in _to_bool for xarray.DataArray:
  if isinstance(arr, xr.DataArray):
      if np.issubdtype(out.dtype, np.floating):
          out = out.fillna(False)
Provide float DataArrays with NaNs via the public expression API.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","15","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_curve_fit_pcov_none_sets_errors_nan",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","24","tests.unit.distributed.image_analysis","test_selection","TestCRTFBasics","","","test_rotbox_ellipse_parse_and_nonempty[rotbox-rotbox[[120pix,80pix],[60pix,30pix], theta_m=30]]",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","27","tests.unit.distributed.image_analysis","test_selection","TestApplySelect","","","test_apply_select_numpy_branch_sets_outside_nan_preserves_inside",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_partial_parameters","Test that partial parameter specification works correctly"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","38","tests.unit.distributed.image_analysis","test_selection","TestCRTFPA","","","test_rotbox_pa_equivalent_to_theta_m","
Cover the `mode == ""pa""` branch: pa=30deg should equal theta_m=60deg
(since math angle = 90deg - PA).
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_dask_return_kind_infer_chunks_exception_path_without_monkeypatch","
Trigger the exception path in _infer_chunks_like by supplying an xarray.DataArray
whose underlying .data has a bogus ``chunks`` attribute that cannot be cast to ints.
This avoids monkeypatching dask internals and uses only the public API.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_list_missing_keys_raise",""
"passed","Mon Sep 15 19:54:02 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","407","tests.unit.distributed.imaging","test_feather","FeatherModelComparison","","","test_basic_stats_and_positions",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","8","tests.unit.distributed.model","test_component_models","TestMakeDisk","","","test_add_false_replaces_inside",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_public_api_ensure_dataarray_raises_on_unsupported_type",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestOutOfRangePolicies","","","test_error_policy_raises",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_multiple_polarizations","Test maximg with multiple polarizations"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","7","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_dataarray_numpy_from_xarray_dask_mask_xarray_data_computes","
Public API: when the input mask is an xarray.DataArray backed by dask and
return_kind=""dataarray-numpy"" is requested, the result is an xr.DataArray
computed to NumPy with identical shape/dims and boolean dtype.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","63","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_init_conversion_list_of_dicts",""
"passed","Mon Sep 15 19:53:21 UTC 2025","Mon Sep 15 19:53:21 UTC 2025","99","tests.unit.core.imaging","test_deconvolution","TestHogbomClean","","","test_hogbom_clean_basic","Test basic hogbom_clean functionality"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","30","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestMetadataNotes","","","test_variance_explained_includes_self_documenting_note","Covers attach explanatory note to ``variance_explained`` DV.

We run a simple 2-D fit and assert that the returned Dataset contains the
``variance_explained`` variable and that it carries a long, self-documenting
``attrs['note']`` string describing the metric. Using ``coord_type='pixel'``
avoids any dependency on world coordinates.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","56","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_selects_result_plane_with_default_indexer",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestOutOfRangePolicies","","","test_ignore_returns_mask",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","34","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInputs","","","test_accepts_raw_numpy_array",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestCRTFFile","","","test_missing_path_object_raises_file_not_found",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_list_happy_path_synonyms_and_theta_default",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestCoerceToXda","","","test_rejects_unsupported_type",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","58","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestMaskingPublicAPI","","","test_mask_excludes_peak_boolean_public_api","
Two bright pixels; mask excludes the brighter one.
Fit should lock onto the unmasked peak.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationAPI","","","test_template_controls_dims_and_return_kind_numpy","
When template is provided, output dims/coords follow the template; also
cover return_kind='dataarray-numpy'.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","11","tests.unit.distributed.model","test_component_models","TestAngleModes","","","test_auto_uses_pa_on_left_handed_grid",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_array_wrong_shape_hits_conv_arr_early_return_then_raises","angle='pa' forces init → _convert_init_theta; (n,5) array triggers early return in _conv_arr."
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","5","tests.unit.distributed.model","test_component_models","TestMakeGauss2D","","","test_decreasing_x_coords_ok",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInitialGuessesTopLevelListOfDicts","","","test_top_level_list_of_dicts_len_mismatch_raises",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","16","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_invalid_minus_not_raises",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesEdgeCases","","","test_invalid_out_of_range_value_raises",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","2","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_threshold_validation","Test threshold parameter validation"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestNumpyMaskAlignment","","","test_numpy_mask_broadcast_error_raises","
Verify ValueError('Mask is not broadcastable to data shape') is raised
when the mask cannot be broadcast to the data shape.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","2","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestMaskingPublicAPI","","","test_mask_and_threshold_empty_after_and_raises_public_api","
Mask ∧ threshold can empty the usable set → ValueError.
Without the mask this would pass (bright pixel >= min_threshold),
but masking that pixel removes all candidates.
"
"passed","Mon Sep 15 19:53:52 UTC 2025","Mon Sep 15 19:53:53 UTC 2025","1068","tests.unit.distributed.imaging","test_feather","FeatherTest","","","test_overwrite","Test overwrite option using prebuilt int/sd zarr inputs"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestFinalizeOutputMatchDispatch","","","test_match_with_numpy",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","13","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_curve_fit_pcov_wrong_shape_sets_errors_nan_success_true","pcov has the wrong shape → perr:=NaN, but success stays True."
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","42","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_roi_and_not_bad",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","15","tests.unit.distributed.model","test_component_models","TestMakeDisk","","","test_output_kinds_numpy_and_dask",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestHogbomUtilities","","","test_is_float32","Test is_float32 function"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsDimsAPI","","","test_init_formats_and_errors",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_list_happy_path_covers_224_232",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestInferHandedness","","","test_requires_len_ge_2",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_mask_source_empty_raises_value_error","
Cover: raise ValueError(""mask_source does not provide any boolean masks"")
when items filtered from mask_source are empty.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","18","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestResultMetadataVersion","","","test_version_fallback_unknown_when_no_dunder","If both metadata lookup and __version__ access fail, version should be 'unknown'."
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestNumpyMaskAlignment","","","test_numpy_float_mask_nan_to_false_and_broadcast","
Exercise the NumPy path in _align_bool_mask_to_data:
  - float mask with NaNs → NaN->0.0 via nan_to_num
  - bool cast
  - broadcasting to data shape
using only the public API.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","12","tests.unit.distributed.model","test_component_models","TestAngleModes","","","test_auto_uses_math_on_right_handed_grid",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_array_wrong_shape_raises",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_dataarray_numpy_else_branch_creation_attached_and_printed","
Cover the else-branch in _coerce_return_kind for return_kind='dataarray-numpy':
    da_out = xr.DataArray(arr, dims=dims, coords=coords)
    if creation is not None:
        print(""********** covered *********"")
        da_out = da_out.assign_attrs({""creation"": creation})
Use ndarray `data` and ndarray `select` so the aligned mask is a NumPy array
(not an xarray.DataArray), forcing the targeted branch.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_mask_source_typeerror_when_not_mapping_or_dataset","
Cover: raise TypeError(""mask_source must be a Mapping or xarray.Dataset"")
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","3","tests.unit.distributed.image_analysis","test_selection","TestErrorMessages","","","test_centerbox_without_pix_in_sizes_suggests_pix_units",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestFinalizeOutputMatchDispatch","","","test_match_with_dask",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","3","tests.unit.distributed.model","test_component_models","TestMakePtSources","","","test_add_true_adds_to_existing",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","15","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInnerPrepCoverage","","","test_inner_prep_lines_executed","Covers lines by exercising all branches of the local `_prep`.
We shim `_interp_centers_world` to reach the `_prep` closure and call it
with inputs that trigger: invalid, descending, non-strict, increasing.
"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestHogbomUtilities","","","test_is_float64","Test is_float64 function"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","49","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_plot_components_uses_model_branch_and_slices_leading_dims","Cover the `elif ""model""` block in plot_components (with slicing over leading dims)."
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestUnsupportedSelectType","","","test_unsupported_select_type_typeerror_message",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestFinalizeOutputMatchDispatch","","","test_match_with_dataarray",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestCoordsForNdarrayInput","","","test_numpy_input_coords_tuple_wrong_lengths_raise","
NumPy input with coords of wrong lengths should raise.
Exercises the validation right before the success return.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","11","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestChooseThetaPublicAPI","","","test_choose_theta_falls_back_to_math_when_pa_missing_public","
angle='pa' but only theta_*_math exists → fallback (second candidate) is used.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationRenameExcept","","","test_template_rename_exception_path_falls_back_and_succeeds","
Cover the except-path inside combine_with_creation:
    try:
        combined = combined.rename({...})
    except Exception:
        pass
by forcing xr.DataArray.rename to raise. The function should still return a
correct boolean DataArray aligned to the template's dims via fallback alignment.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_full_mask_triggers_failure_and_nan_planes",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestNearestOutOfRangePolicies","","","test_ignore_sloppy_keeps_half_pixel",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","82","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_3d_with_indexer_and_no_component_dim",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationAPI","","","test_invalid_op_raises","
op must be one of '|', '&', '^'
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestAlignFallback","","","test_broadcast_like_exception_fallback_numpy_wrap_success","
Force xr.DataArray.broadcast_like to raise so _align_bool_mask_to_data enters the
top-level except block, then verify the NumPy broadcast fallback succeeds and
wraps back to an xr.DataArray with data's dims/coords.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsDimsAPI","","","test_bounds_merge_tuple_all_and_unknown_key_ignored",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_basic_float64","Test basic maximg functionality with float64"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_else_branch_for_2d_input",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsDimsAPI","","","test_bounds_merge_per_component_length_error",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesSizeOneCompletion","","","test_clip_with_mask_size_one",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_list_len_mismatch_raises",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_threshold_not_enough_pixels_for_params_raises_public_api","
Cover the guard in _fit_multi_plane_numpy:
    if mask_count < (1 + 6*n_components): raise ValueError(...)
Use a small plane with more parameters than masked-in pixels.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsDimsAPI","","","test_dims_by_index_and_error_paths",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestCoordsForNdarrayInput","","","test_coords_validation_and_success","Validate tuple length, shape checks, and successful use of provided coords for ndarray input."
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","148","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInputs","","","test_accepts_bare_dask_array",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","8","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_overlay_converts_fwhm_to_sigma_when_sigma_missing",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","66","tests.unit.distributed.image_analysis","test_selection","TestCRTFCombine","","","test_multi_line_plus_minus_matches_boolean_ops",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestHogbomUtilities","","","test_get_dtype_name","Test get_dtype_name function"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","29","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_init_conversion_and_reporting",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","18","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dataarray_dask_and_apply_select",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_array_list_form_fallback_covers_234_235",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestNearestIndicesSizeOneCompletion","","","test_ignore_plain_return_no_mask",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","0","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dask_wraps_numpy_mask_when_data_is_numpy","
If mask is a NumPy array (not xarray), it is wrapped via da.from_array.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","48","tests.unit.distributed.image_analysis","test_selection","TestSmartSplitPairs","","","test_annulus_equals_circle_diff_and_trims_trailing_space","
Exercise _smart_split_pairs' final buffer append and return by using an
'annulus' payload where the last token is a nested bracket pair and the
string ends without a trailing comma (plus trailing spaces).
Compare against an equivalent construction using two circles.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestCoerceToXda","","","test_requires_coords_for_raw_arrays",""
"passed","Mon Sep 15 19:53:21 UTC 2025","Mon Sep 15 19:53:21 UTC 2025","732","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestSuccess","","","test_two_components_with_world_coords[0.02]",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","32","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAngleEndToEndFitter","","","test_canonicalization_swaps_axes_and_rotates_theta_by_half_pi","
Covers: th_math = -th, major/minor swap, +π/2 rotation, and wrap to (-π/2, π/2].
Construct an ellipse whose *math* major axis is along +y (σx < σy, θ_math = 0),
so canonicalization must rotate the reported math angle by +π/2.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","31","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_with_xarray_dataset_mask_source","
Cover _build_mask_env branch where mask_source is an xarray.Dataset:
    if isinstance(mask_source, xr.Dataset):
        items = {k: v for k, v in mask_source.data_vars.items() if _is_boolish(v)}
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","56","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestSuccess","","","test_auto_seeds_when_initial_none",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_default_parameters","Test that default parameters are set correctly"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestFinalizeOutputMatchDispatch","","","test_numpy_to_dask_wrap_line",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","17","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_curve_fit_with_valid_pcov_sets_finite_errors",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","16","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAutoSeedingPixelElsePublicAPI","","","test_auto_seeding_pixel_else_path_public_api","
Public API call drives the pixel-seeding 'else' path.
We force the underlying plane fitter to treat axes as pixel-index grids,
then assert seeds: centers at pixel indices and widths == max(nx, ny)/10.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","5","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_bitwise_and_or_xor_return_paths","
Cover returns for BinOp branches:
  - BitAnd  -> left & right
  - BitOr   -> left | right
  - BitXor  -> left ^ right
via public API with named masks.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","5","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationAPI","","","test_creation_hint_overrides","
creation_hint should replace the auto-merged '(c1) op (c2)' string.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","65","tests.unit.distributed.image_analysis","test_selection","TestPolygon","","","test_polygon_with_float_vertices_behaves_sensibly",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","41","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAutoSeedingPixelPublicAPI","","","test_auto_seed_pixel_public_api","Public API: pixel coords + auto initial guesses."
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","14","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOptimizerFailures","","","test_curve_fit_nonfinite_popt_triggers_not_success_nan_outputs","Force a non-finite solution from curve_fit so the not-success early-return path is exercised.

Covers the block that fills component arrays, model and residual with NaNs and sets success=False.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","3","tests.unit.distributed.image_analysis","test_selection","TestCRTFNumericParsingErrors","","","test_invalid_pixel_quantity_token_raises_specific_message","
Public-API coverage for _parse_pix_val raise path:
using 'px' instead of required 'pix' should emit the pixel-specific error.
"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_with_mask","Test maximg with mask"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesEdgeCases","","","test_coord_vals_must_be_1d",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","7","tests.unit.distributed.model","test_component_models","TestMakeDisk","","","test_add_true_adds_only_inside",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","62","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOTFMaskingPublicAPI","","","test_otf_mask_broadcasts_ndarray_over_stack_public_api","
select_mask returns a 2-D ndarray mask (y,x); it should broadcast across stacked 'time'.
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_init_components_tuple_happy_path_covers_224_to_232",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","23","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_pixel_fit_interpolates_world_centers_and_propagates_errors_ascending","
- when DA has valid ascending 1-D world coords on (x,y) but we fit in pixel mode,
  the code interpolates centers into world coords and propagates uncertainties
  using local axis slope from np.gradient.
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","124","tests.unit.distributed.image_analysis","test_selection","TestPolygon","","","test_concave_arrow_shape_includes_and_excludes_expected_points",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","36","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_init_components_list_of_dicts_converted",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestParamValidation","","","test_make_gauss2d_param_validation",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestParamValidation","","","test_make_disk_param_validation",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","10","tests.unit.distributed.model","test_component_models","TestMakePtSources","","","test_output_kinds_numpy_and_dask",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","89","tests.unit.distributed.image_analysis","test_selection","TestCRTFFile","","","test_backticked_file_and_path_object_match_inline",""
"passed","Mon Sep 15 19:53:21 UTC 2025","Mon Sep 15 19:53:21 UTC 2025","2","tests.unit.core.imaging","test_fft_ifft","FFTTest","","","test_fft_ifft_round_trip",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestCRTFFile","","","test_missing_backticked_file_raises_file_not_found",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","12","tests.unit.distributed.image_analysis","test_selection","TestCRTFBasics","","","test_circle_centroid_near_center",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_dask_return_kind_infers_chunks_from_data_success","
When `data` is an xr.DataArray with a single chunk per axis (e.g., (ny,),(nx,)),
_infer_chunks_like flattens to (ny, nx) and returns it. The 'dask' return kind
for a NumPy-backed mask DataArray should therefore use those exact chunks.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","6","tests.unit.distributed.model","test_component_models","TestMakeGauss2D","","","test_peak_at_center_replacement",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","20","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_pixel_fit_interpolates_world_centers_descending_x","
Also cover the _prep() path that reverses a descending axis before interpolation.
Keep assertions light (presence and bounds) to avoid over-constraining behavior.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","12","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsFwhmMapping","","","test_fwhm_minor_single_tuple_maps_to_sigma_y_tuple",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestCRTFNumericParsingErrors","","","test_invalid_numeric_token_in_angle_raises_value_error","
Public-API coverage for _parse_units_val raise:
an angle with an unsupported unit triggers ""Invalid numeric token: '30xyz'"".
"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","8","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_unknown_name_keyerror_lists_available",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","17","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_boolop_and_or_forbidden_raises","
Cover: BoolOp path -> ValueError(""Use '&' and '|' instead of 'and'/'or' ..."")
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOTFMaskingPublicAPI","","","test_otf_mask_dataset_without_var_errors_public_api","
select_mask returns a Dataset without 'mask' variable → should raise TypeError.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","28","tests.unit.distributed.image_analysis","test_selection","TestCRTFBasics","","","test_box_with_and_without_header_0based_and_area",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","4","tests.unit.distributed.model","test_component_models","TestMakePtSources","","","test_midpoint_tie_chooses_right",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestNearestIndicesEdgeCases","","","test_coord_vals_length_at_least_one",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","80","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestSuccess","","","test_flags_and_descending_world_coords",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_constant_true_false_returns_bool_arrays","
Cover Constant(bool) branch:
  - 'True'  -> np.array(True, dtype=bool) aligned to data
  - 'False' -> np.array(False, dtype=bool) aligned to data
Provide a dummy mask_source so expression evaluation path is taken.
"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","33","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_fwhm_warns_and_draws_without_size_when_both_missing","Cover metric==""fwhm"" path that warns and uses zero radii when both size kinds are missing."
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","76","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_bounds_per_component_list_public_api_hits_comp_idx_branch",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","6","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationAPI","","","test_dask_chunks_applied_when_requesting_dask_return_kind","
Ensure that specifying dask_chunks yields a dask-backed output with those chunks.
Use numpy-backed inputs so the conversion path constructs a dask array with given chunks.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesSizeOneCompletion","","","test_ignore_sloppy_size_one_validity",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","10","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestChooseThetaPublicAPI","","","test_choose_theta_none_when_both_missing_public","
Neither theta_*_pa nor theta_*_math exist → fall-through to (None, None).
plot_components should warn and still draw (axis-aligned ellipse).
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","9","tests.unit.distributed.image_analysis","test_selection","TestCombineWithCreationAPI","","","test_or_and_xor_semantics_and_creation_merge_default","
Cover L|R, L&R, L^R branches and default creation merge from inputs'
'creation' attrs (set via creation_hint).
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","1","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_public_api_n_components_must_be_positive",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","2","tests.unit.distributed.model","test_component_models","TestMakePtSourcesEarlyExit","","","test_all_out_of_range_early_exit",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","13","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInitialGuessesFwhmMinorMappingPublicAPI","","","test_components_list_of_dicts_maps_fwhm_minor_to_sigma_y_in_p0",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","29","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestOTFMaskingPublicAPI","","","test_otf_mask_excludes_peak_dataarray_public_api","
select_mask returns a DataArray mask that excludes the brighter peak.
The fit should choose the unmasked peak.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestCreationAutoMerge","","","test_auto_merge_creation_falls_back_to_single_creation_attr","
Cover the 'elif ""creation"" in select.attrs: creation_str = select.attrs.get(""creation"")'
fallback when the triplet (creation_a/b/op) is not present.
"
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestMaximgFunction","","","test_maximg_basic_float32","Test basic maximg functionality with float32"
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestXarrayMaskAlignment","","","test_xarray_float_mask_with_nan_fillna_false","
Hit the nested branch in _align_bool_mask_to_data for xarray:
    if isinstance(data, xr.DataArray):
        m = ...  # DataArray
        if np.issubdtype(m.dtype, np.floating):
            m = m.fillna(False)
by passing a float DataArray with NaNs as the mask.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestAlignFallback","","","test_fallback_broadcast_to_failure_raises_valueerror","
Make broadcast_like fail naturally (conflicting non-unit size along 'x'),
and also make NumPy's broadcast_to fail so we cover the inner except and
error message in the fallback.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","19","tests.unit.distributed.image_analysis","test_selection","TestCRTFBasics","","","test_rotbox_ellipse_parse_and_nonempty[ellipse-ellipse[[120pix,80pix],[50pix,25pix], theta_m=60]]",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","21","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_min_threshold_masks_pixels_partial",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","19","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestResultMetadataVersion","","","test_version_fallback_reads_package_dunder","If importlib.metadata.version fails, fallback should read astroviper.__version__."
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","30","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_fwhm_converts_from_sigma_when_fwhm_missing","Cover metric==""fwhm"" path that converts sigma→FWHM when fwhm vars are absent."
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","32","tests.unit.distributed.image_analysis","test_selection","TestApplySelect","","","test_apply_select_sets_outside_to_nan",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","3","tests.unit.distributed.image_analysis","test_selection","TestErrorMessages","","","test_box_without_pix_suggests_pix_units",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","60","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_init_components_list_of_dicts_branch",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","7","tests.unit.distributed.model","test_component_models","TestMakeGauss2D","","","test_add_true_adds_gaussian",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","3","tests.unit.distributed.model","test_component_models","TestMakePtSources","","","test_sum_duplicates",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","10","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dask_from_crtf",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","10","tests.unit.distributed.image_analysis","test_selection","TestExpressions","","","test_expression_syntax_error_raises_value_error","
Trigger a SyntaxError in the parser (e.g., trailing '&') so the public API
surfaces ValueError('Invalid selection expression').
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","11","tests.unit.distributed.model","test_component_models","TestAngleModes","","","test_degrees_flag",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestAllTrueMaskLike","","","test_none_select_xarray_returns_all_true",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","0","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_existing_valid_parameters","Test that valid existing parameters are preserved"
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","0","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestInitialGuessesTopLevelListOfDicts","","","test_top_level_list_of_dicts_happy_path_parses_and_packs",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","48","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestPlotHelper","","","test_plot_components_defaults_indexer_for_3d_input",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_wrap_numpy_mask_to_dask_dataarray",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestNearestIndicesEdgeCases","","","test_descending_branch_maps_back",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","34","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_init_components_array_dict_converted",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestCreationAutoMerge","","","test_auto_merge_creation_from_triplet_attrs","
Cover:
    if creation_str is None and auto_merge_creation and isinstance(select, xr.DataArray):
        c1 = select.attrs.get(""creation_a"")
        c2 = select.attrs.get(""creation_b"")
        op = select.attrs.get(""creation_op"")
        if c1 and c2 and op:
            creation_str = f""({c1}) {op} ({c2})""
using only the public API.
"
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","270","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestWorldSeeding","","","test_autoseed_uses_world_axes_and_recovers_params",""
"passed","Mon Sep 15 19:53:25 UTC 2025","Mon Sep 15 19:53:25 UTC 2025","13","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestBoundsFwhmMapping","","","test_fwhm_major_list_of_tuples_maps_to_sigma_x_per_component",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dask_wraps_xarray_numpy_mask_using_inferred_or_given_chunks","
If mask is xr.DataArray with NumPy backing, it is wrapped via da.from_array.
"
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","4","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_dask_from_xarray_dask_mask_returns_dask_array","
If mask is xr.DataArray with dask backing, return_kind='dask' returns arr.astype(bool).
"
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","54","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_angle_pa_list_of_dicts_missing_theta_covers_if_false_branch",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","208","tests.unit.distributed.image_analysis","test_selection","TestPolygon","","","test_polygon_file_roundtrip_matches_inline",""
"passed","Mon Sep 15 19:53:21 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","1196","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestSuccess","","","test_two_components_with_world_coords[0.05]",""
"passed","Mon Sep 15 19:53:20 UTC 2025","Mon Sep 15 19:53:20 UTC 2025","1","tests.unit.core.imaging","test_deconvolution","TestValidateDeconvParams","","","test_niter_validation","Test niter parameter validation"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestInferHandedness","","","test_non_monotonic_x_raises",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestMakePtSources","","","test_requires_equal_lengths",""
"passed","Mon Sep 15 19:53:23 UTC 2025","Mon Sep 15 19:53:23 UTC 2025","132","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestSuccess","","","test_vectorize_over_time_names_and_indices",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","25","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestAPIHelpers","","","test_bounds_offset_branch_public_api",""
"passed","Mon Sep 15 19:53:24 UTC 2025","Mon Sep 15 19:53:24 UTC 2025","26","tests.unit.distributed.image_analysis","test_multi_gaussian2d_fit","TestNumPyFitting","","","test_max_threshold_masks_pixels_partial",""
"passed","Mon Sep 15 19:53:27 UTC 2025","Mon Sep 15 19:53:27 UTC 2025","2","tests.unit.distributed.image_analysis","test_selection","TestCreationAssignmentInDataArrayNumpyReturn","","","test_creation_hint_attached_in_dataarray_numpy_else_branch","
Cover:
    da_out = xr.DataArray(arr, dims=dims, coords=coords)
    if creation is not None:
        da_out = da_out.assign_attrs({""creation"": creation})
by passing a NumPy boolean mask (not an xr.DataArray) with return_kind='dataarray-numpy'
and a non-None creation_hint.
"
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","0","tests.unit.distributed.model","test_component_models","TestInferHandedness","","","test_non_monotonic_y_raises",""
"passed","Mon Sep 15 19:53:26 UTC 2025","Mon Sep 15 19:53:26 UTC 2025","1","tests.unit.distributed.image_analysis","test_selection","TestReturnKinds","","","test_return_kind_numpy_from_expression",""
"passed","Mon Sep 15 19:54:03 UTC 2025","Mon Sep 15 19:54:03 UTC 2025","1","tests.unit.distributed.model","test_component_models","TestCoerceToXda","","","test_length_mismatch",""
